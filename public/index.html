<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="https://unpkg.com/three@0.130.1/build/three.min.js"></script>
    <script src="https://unpkg.com/three@0.130.1/examples/js/controls/OrbitControls.js"></script>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    

</head>
<body>
    <h1>Vector-Projector</h1>
    <button id="toggleSidebarButton">Toggle Sidebar</button>
    <select id="sidebarSelector">
        <option value="logs">Logs</option>
        <option value="modelSelection">Model Selection</option>
        <option value="prompts">Prompts</option>
        <option value="cubeContent">Cube Analytics</option>
        <option value="groups">Groups and Clustering</option>
        <option value="vectorMetricsContent">Vector Metrics</option>
    </select>    
    <!-- User input field and ask button -->
    <input type="text" id="userInput" placeholder="What topic...">
    <button id="askButton">Ask</button>
    <div id="canvas-container">
        <div id="my_dataviz"></div>
    </div>    
    
    <div id="sidebar" class="sidebar">
        <div class="sidebar-header">
            <h2 id="sidebarTitle">Logs</h2>
        </div>
        <div class="sidebar-content">
            <div id="promptEditors" style="display: none;"></div>
            <div id="logsContent"></div>
            <div id="modelSelectionContent" style="display: none;"></div> 
            <div id="modelParametersContent" style="display: none;"> 
                <label for="temperature">Temperature:</label>
                <input type="range" id="temperature" name="temperature" min="0" max="1" step="0.01" value="0.5">
                <label for="top_p">Top P:</label>
                <input type="range" id="top_p" name="top_p" min="0" max="1" step="0.01" value="0.5">
                <p>Num return sequences:</p>
                <input type="radio" id="one" name="num_return_sequences" value="1" checked>
                <label for="one">1</label>
                <input type="radio" id="two" name="num_return_sequences" value="2">
                <label for="two">2</label>
                <input type="radio" id="three" name="num_return_sequences" value="3">
                <label for="three">3</label>
            </div>

            <div id="cubeContent" style="display: none;">
                <div id="cubeName"></div>
                <img id="sidebarCubeImage" src="" alt="Cube Image" width="100%" height="auto">
                <canvas id="ratingsBarChart" width="600" height="500"></canvas>
            </div>

            <div id="groupsContent" style="display: none;">
                <p>Groups sidebar:</p>
                <label for="sphereThreshold">Sphere Threshold (0-10):</label>
                <input type="range" id="sphereThreshold" name="sphereThreshold" min="0" max="10" step="0.1" value="0.1">
                <span id="thresholdValue">0.1</span>
                <label for="minCubesSlider">Min Cubes per Sphere:</label>
                <input type="range" id="minCubesSlider" min="0" max="10" value="0">
                <label for="overlapSlider">Max Sphere Overlap (%):</label>
                <input type="range" id="overlapSlider" min="0" max="100" value="100">
                <canvas id="groupsContentChart" width="600" height="500"></canvas>
                <div id="groupsImagesContainer"></div>
            </div>

            <div id="vectorMetricsContent" style="display: none;">
                <p>Vector Metrics:</p>  
            </div>          
        </div>
    </div>    

    <script type="module" src="main.js"></script>
    <script type="module" src="sidebar.js"></script>
    <script type="module" src="llmService.js"></script>
    <script type="module" src="listPerpetuator.js"></script>
    <script type="module" src="listProcessor.js"></script>
    <script type="module" src="ratingGenerator.js"></script>
    <script type="module" src="cubeManager.js"></script>
    
</body>
</html>
